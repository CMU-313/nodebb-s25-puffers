(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[1091,34271,49897,80896,99127],{46243:(u,o,n)=>{u.exports=n(69627)},49897:(u,o,n)=>{"use strict";n.r(o),n.d(o,{del:()=>P,get:()=>E,head:()=>_,patch:()=>O,post:()=>y,put:()=>m});var c=n(91749),w=n.n(c),i=n(40027),x=n.n(i);const g=config.relative_path+"/api/v3";async function s(e,r){if(e.url=e.url.startsWith("/api")?config.relative_path+e.url:g+e.url,typeof r=="function"){d(e).then(t=>r(null,t),t=>r(t));return}try{return await d(e)}catch(t){if(t.message==="A valid login session was not found. Please log in and try again."){const{url:l}=await(0,c.fire)("filter:admin.reauth",{url:"login"});return(0,i.confirm)("[[error:api.reauth-required]]",f=>{f&&ajaxify.go(l)})}throw t}}async function d(e){const{url:r}=e;delete e.url,e.data&&!(e.data instanceof FormData)&&(e.data=JSON.stringify(e.data||{}),e.headers["content-type"]="application/json; charset=utf-8"),{options:e}=await(0,c.fire)("filter:api.options",{options:e}),e.data&&(e.body=e.data,delete e.data);const t=await fetch(r,e),{headers:l}=t,f=l.get("content-type"),h=f&&f.startsWith("application/json");let a;if(e.method!=="HEAD"&&(h?a=await t.json():a=await t.text()),!t.ok)throw a?new Error(h?a.status.message:a):new Error(t.statusText);return h&&a&&a.hasOwnProperty("status")&&a.hasOwnProperty("response")?a.response:a}function E(e,r,t){return s({url:e+(r&&Object.keys(r).length?"?"+$.param(r):"")},t)}function _(e,r,t){return s({url:e+(r&&Object.keys(r).length?"?"+$.param(r):""),method:"HEAD"},t)}function y(e,r,t){return s({url:e,method:"POST",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}function O(e,r,t){return s({url:e,method:"PATCH",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}function m(e,r,t){return s({url:e,method:"PUT",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}function P(e,r,t){return s({url:e,method:"DELETE",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}},86246:(u,o,n)=>{u.exports=n(35347)}}]);
