"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[95737,99127,34271,1091,49897],{30637:(P,m,a)=>{var u,g;u=[a(49897),a(81335),a(40027),a(29930)],g=function(c,O,v,r){const i={};function l(){return ajaxify.data.template.name.startsWith("admin/")}return i.handle=function(){$('[component="user/invite"]').on("click",function(f){f.preventDefault(),c.get(`/api/v3/users/${app.user.uid}/invites/groups`,{}).then(d=>{O.parse("modals/invite",{groups:d},function(o){v.dialog({message:o,title:`[[${l()?"admin/manage/users:invite":"users:invite"}]]`,onEscape:!0,buttons:{cancel:{label:`[[${l()?"admin/manage/users:alerts.button-cancel":"modules:bootbox.cancel"}]]`,className:"btn-default"},invite:{label:`[[${l()?"admin/manage/users:invite":"users:invite"}]]`,className:"btn-primary",callback:i.send}}})})}).catch(r.error)})},i.send=function(){const f=$("#invite-modal-emails"),d=$("#invite-modal-groups"),o={emails:f.val().split(",").map(h=>h.trim()).filter(Boolean).filter((h,p,e)=>p===e.indexOf(h)).join(","),groupsToJoin:d.val()};o.emails&&c.post(`/users/${app.user.uid}/invites`,o).then(()=>{r.success(`[[${l()?"admin/manage/users:alerts.email-sent-to":"users:invitation-email-sent"}, ${o.emails.replace(/,/g,"&#44; ")}]]`)}).catch(r.error)},i}.apply(m,u),g!==void 0&&(P.exports=g)},49897:(P,m,a)=>{a.r(m),a.d(m,{del:()=>p,get:()=>l,head:()=>f,patch:()=>o,post:()=>d,put:()=>h});var u=a(91749),g=a.n(u),c=a(40027),O=a.n(c);const v=config.relative_path+"/api/v3";async function r(e,n){if(e.url=e.url.startsWith("/api")?config.relative_path+e.url:v+e.url,typeof n=="function"){i(e).then(t=>n(null,t),t=>n(t));return}try{return await i(e)}catch(t){if(t.message==="A valid login session was not found. Please log in and try again."){const{url:y}=await(0,u.fire)("filter:admin.reauth",{url:"login"});return(0,c.confirm)("[[error:api.reauth-required]]",E=>{E&&ajaxify.go(y)})}throw t}}async function i(e){const{url:n}=e;delete e.url,e.data&&!(e.data instanceof FormData)&&(e.data=JSON.stringify(e.data||{}),e.headers["content-type"]="application/json; charset=utf-8"),{options:e}=await(0,u.fire)("filter:api.options",{options:e}),e.data&&(e.body=e.data,delete e.data);const t=await fetch(n,e),{headers:y}=t,E=y.get("content-type"),D=E&&E.startsWith("application/json");let s;if(e.method!=="HEAD"&&(D?s=await t.json():s=await t.text()),!t.ok)throw s?new Error(D?s.status.message:s):new Error(t.statusText);return D&&s&&s.hasOwnProperty("status")&&s.hasOwnProperty("response")?s.response:s}function l(e,n,t){return r({url:e+(n&&Object.keys(n).length?"?"+$.param(n):"")},t)}function f(e,n,t){return r({url:e+(n&&Object.keys(n).length?"?"+$.param(n):""),method:"HEAD"},t)}function d(e,n,t){return r({url:e,method:"POST",data:n,headers:{"x-csrf-token":config.csrf_token}},t)}function o(e,n,t){return r({url:e,method:"PATCH",data:n,headers:{"x-csrf-token":config.csrf_token}},t)}function h(e,n,t){return r({url:e,method:"PUT",data:n,headers:{"x-csrf-token":config.csrf_token}},t)}function p(e,n,t){return r({url:e,method:"DELETE",data:n,headers:{"x-csrf-token":config.csrf_token}},t)}}}]);
