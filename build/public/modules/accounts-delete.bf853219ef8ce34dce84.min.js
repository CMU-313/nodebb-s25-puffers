"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[1091,5719,34271,49897,99127],{47283:(O,i,a)=>{var s,l;s=[a(49897),a(40027),a(29930)],l=function(d,_,h){const r={};r.account=function(c,o){f(c,"[[user:delete-this-account-confirm]]","/account","[[user:account-deleted]]",o)},r.content=function(c,o){f(c,"[[user:delete-account-content-confirm]]","/content","[[user:account-content-deleted]]",o)},r.purge=function(c,o){f(c,"[[user:delete-all-confirm]]","","[[user:account-deleted]]",o)};function f(c,o,m,y,E){_.confirm(o,function(D){D&&d.del(`/users/${c}${m}`,{}).then(()=>{if(h.success(y),typeof E=="function")return E()}).catch(h.error)})}return r}.apply(i,s),l!==void 0&&(O.exports=l)},49897:(O,i,a)=>{a.r(i),a.d(i,{del:()=>D,get:()=>c,head:()=>o,patch:()=>y,post:()=>m,put:()=>E});var s=a(91749),l=a.n(s),d=a(40027),_=a.n(d);const h=config.relative_path+"/api/v3";async function r(t,n){if(t.url=t.url.startsWith("/api")?config.relative_path+t.url:h+t.url,typeof n=="function"){f(t).then(e=>n(null,e),e=>n(e));return}try{return await f(t)}catch(e){if(e.message==="A valid login session was not found. Please log in and try again."){const{url:P}=await(0,s.fire)("filter:admin.reauth",{url:"login"});return(0,d.confirm)("[[error:api.reauth-required]]",g=>{g&&ajaxify.go(P)})}throw e}}async function f(t){const{url:n}=t;delete t.url,t.data&&!(t.data instanceof FormData)&&(t.data=JSON.stringify(t.data||{}),t.headers["content-type"]="application/json; charset=utf-8"),{options:t}=await(0,s.fire)("filter:api.options",{options:t}),t.data&&(t.body=t.data,delete t.data);const e=await fetch(n,t),{headers:P}=e,g=P.get("content-type"),A=g&&g.startsWith("application/json");let u;if(t.method!=="HEAD"&&(A?u=await e.json():u=await e.text()),!e.ok)throw u?new Error(A?u.status.message:u):new Error(e.statusText);return A&&u&&u.hasOwnProperty("status")&&u.hasOwnProperty("response")?u.response:u}function c(t,n,e){return r({url:t+(n&&Object.keys(n).length?"?"+$.param(n):"")},e)}function o(t,n,e){return r({url:t+(n&&Object.keys(n).length?"?"+$.param(n):""),method:"HEAD"},e)}function m(t,n,e){return r({url:t,method:"POST",data:n,headers:{"x-csrf-token":config.csrf_token}},e)}function y(t,n,e){return r({url:t,method:"PATCH",data:n,headers:{"x-csrf-token":config.csrf_token}},e)}function E(t,n,e){return r({url:t,method:"PUT",data:n,headers:{"x-csrf-token":config.csrf_token}},e)}function D(t,n,e){return r({url:t,method:"DELETE",data:n,headers:{"x-csrf-token":config.csrf_token}},e)}}}]);
